<!DOCTYPE html>
<html lang = "ko"
      xmlns:th = "http://www.thymeleaf.org"
>
<head>
    <meta charset = "UTF-8">
    <title>Board Detail</title>

    <!--BootStrap5-->
    <link rel = "stylesheet"
          href = "/css/bootstrap.min.css"
    />
    <script src = "/js/bootstrap.min.js"></script>
</head>
<body>
    <header th:insert = "jpa/common/header"></header>
    <div class = "container">
        <form th:action = "@{/jpa/boardWrite}"
              th:object = "${board}"
              method = "post"
              id = "write_update"
        >
            <!--서버로 보내기 위한 id 값-->
            <div class = "form-group row">
                <label for = "id"
                       class = "col-sm-2 col-form-label"
                ><strong>글 번호</strong></label>
            </div>
            <div class = "col-sm-10">
                <input type = "text"
                       id = "id"
                       th:field = "*{id}"
                       class = "form-control"
                       readonly
                >
            </div>
            <div class = "form-group row">
                <label for = "title"
                       class = "col-sm-2 col-form-label"
                ><strong>제목</strong></label>
            </div>
            <div class = "col-sm-10">
                <input type = "text"
                       id = "title"
                       th:field = "*{title}"
                       class = "form-control"
                       readonly
                >
            </div>
            <div class = "form-group row">
                <label for = "writer"
                       class = "col-sm-2 col-form-label"
                ><strong>작성자</strong></label>
            </div>
            <div class = "col-sm-10">
                <input type = "text"
                       id = "writer"
                       th:field = "*{writer}"
                       class = "form-control"
                       readonly
                >
            </div>
            <div class = "form-group row">
                <label for = "content"
                       class = "col-sm-2 col-form-label"
                ><strong>내용</strong></label>
            </div>
            <div class = "col-sm-10">
                <textarea type = "text"
                          id = "content"
                          th:field = "*{content}"
                          class = "form-control overflow-auto"
                          style = "min-height: 30vh;"
                          readonly
                ></textarea>
            </div>

            <div class = "my-2 col-sm-10">
                <div class = "float-end">
                    <button th:onclick = "'location.href =\'' + @{/jpa/boardWrite(id = ${board.id})} + '\''"
                    >수정
                    </button>
                    <button th:id = "${board.id}"
                            onclick = "btnDel(this.getAttribute('id'))"
                    >삭제
                    </button>
                </div>
            </div>
        </form>
    </div>
</body>

<script>
    function btnDel (id) {
        console.log(id)
        if (confirm('게시글을 정말 삭제하시겠습니까?') === true) {
            location.href = '/jpa/boardDelete?id=' + id
        }
    }
</script>

</html>